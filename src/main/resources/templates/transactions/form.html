<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <title>Form Transaksi</title>
    <link rel="stylesheet" th:href="@{/css/app.css}" />
  </head>
  <body>
    <div class="layout">
      <!-- SIDEBAR -->
      <div th:replace="fragments/sidebar :: sidebar"></div>

      <!-- CONTENT -->
      <main class="content">
        <div class="container">
          <h1
            th:text="${transaction.id} == null ? 'Tambah Transaksi' : 'Edit Transaksi'"
          ></h1>

          <form
            th:action="@{/transactions}"
            th:object="${transaction}"
            method="post"
          >
            <input type="hidden" th:field="*{id}" />

            <label
              >Tanggal
              <input type="date" th:field="*{date}" />
            </label>

            <label
              >Tipe
              <select th:field="*{type}">
                <option
                  th:each="t : ${types}"
                  th:value="${t}"
                  th:text="${t}"
                ></option>
              </select>
            </label>

            <label
              >Jumlah
              <input type="number" step="0.01" min="0" th:field="*{amount}" />
              <span
                class="error"
                th:if="${#fields.hasErrors('amount')}"
                th:errors="*{amount}"
              >
              </span>
            </label>

            <label
              >Deskripsi
              <textarea th:field="*{description}"></textarea>
            </label>

            <label
              >Kategori
              <select th:field="*{category}">
                <option value="">-- Pilih --</option>
                <option
                  th:each="c : ${categories}"
                  th:value="${c.id}"
                  th:text="${c.name}"
                ></option>
              </select>
            </label>

            <button type="submit">Simpan</button>
            <a href="/transactions">Batal</a>
          </form>
        </div>
      </main>
    </div>
  </body>
</html>
